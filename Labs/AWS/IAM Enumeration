# AWS IAM Enumeration Cheat Sheet

## ðŸ”¹ Phase 1: Manual Enumeration (The "Slow" Way)
Use these commands to understand the theory behind IAM relationships.

### 1. Who am I?
```bash
aws sts get-caller-identity --profile iam

2. List Users & Policies
Bash

aws iam list-users --profile iam
aws iam list-user-policies --user-name <username> --profile iam
3. Check Groups
Bash

aws iam list-groups-for-user --user-name <username> --profile iam
aws iam list-group-policies --group-name <groupname> --profile iam
4. List Roles (The messy output!)
Bash

aws iam list-roles --profile iam
5. The "Difficult" Filter Command (JMESPath Query)
Use this to find specific roles without scrolling through thousands of lines:

Bash

aws iam list-roles --query "Roles[?RoleName=='SupportRole']" --profile iam
6. Enumerate the Target Role
Bash

aws iam list-role-policies --role-name SupportRole --profile iam
aws iam get-role-policy --role-name SupportRole --policy-name <policyname> --profile iam
ðŸ”¹ Phase 2: Automated Enumeration (PACU)
Use this to speed up the process once you understand the basics.

Import your CLI profile

Bash

import_keys <profile_name>
Run the enumeration module

Bash

run iam__enum_users_roles_policies_groups
View the gathered intelligence

Bash

data iam
Check your permissions

Bash

whoami
